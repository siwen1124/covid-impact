{"version":3,"sources":["components/VerticalNav.js","components/Home.js","utils/FetchAndParse.js","components/Animal.js","components/CO2.js","components/Introduction.js","components/Stock.js","utils/Scroller.js","components/ToiletPaper.js","components/Reflection.js","components/Traffic.js","App.js","index.js"],"names":["VerticalNav","props","handleClick","element","document","getElementsByClassName","console","log","id","href","onClick","className","React","Component","Home","state","imagePath","Fragment","style","height","window","innerHeight","backgroundImage","this","backgroundSize","backgroundAttachment","color","path","parseCallBack","a","d3","data","Animal","componentDidMount","svg","svgRef","current","attr","width","fetchAndParse","dataPath","parseData","then","setState","filteredData","filter","d","Year","drawSVG","map","Month","LiveOutcome","handleYearChange","selectedYear","selectedData","line","transition","duration","lineGenerator","colorScale","innerWidth","margin","left","right","top","bottom","xScale","domain","range","yScale","nice","g","append","xAxis","tickPadding","yAxis","tickSize","xAisG","call","select","remove","text","yAxisG","selectAll","x","xValue","y","yValue","curve","year","temp","handleMouseEnter","focus","focusText","handleMouseMove","event","curDatum","nx","invert","ny","Math","floor","handleMouseLeave","on","createRef","ref","type","CO2","canvas","canvasRef","context","node","getContext","draw","random","angle","PI","dis","outerRadius","innerRadius","cos","start","sin","strength","migrated","simulation","stop","tick","nodes","i","n","push","force","end","centeringStrength","alphaDecay","velocityDecay","handleTick","cycles","migrating","find","clearRect","forEach","beginPath","fillStyle","arc","fill","backgroundColor","borderRadius","display","Introduction","fontSize","src","Stock","setupData","collectData","groupData","collectDate","date","Date","rawData","priceNum","split","nameTokens","nameStr","length","reverse","getFullYear","getDate","flat","tempArr","keys","key","target","get","item","Object","assign","stackedSeries","companyList","offset","stackGen","ticks","areaGen","y0","y1","vertical","enter","bisect","curDate","curIdx","center","curFirm","value","index","idx","Scroller","elements","container","resize","startPos","sections","each","getBoundingClientRect","sectionPositions","containerStart","scrollY","position","pos","sectionIndex","min","size","currentIndex","dispatch","prevIndex","max","prevTop","progress","getContainer","setContainer","action","callback","ToiletPaper","lastIndex","activeIndex","squareSize","squarePad","numPerRow","activateFunctions","updateFunctions","rollsRaw","Country","Rolls","init","setupVis","setupOverallIncrease","setupInvention","setupGrid","setupBarChart","setupHistogram","setupScroller","setupSections","wordData","getWords","fillerWords","getFillerWords","generateRolls","selection","svgEntry","merge","countryList","squares","rollsProcessed","squaresE","classed","colors","changeColorScale","xHistScale","xAxisHist","scale","histData","getOtherHist","histMax","yHistScale","hist","histE","x0","x1","scroller","curIndex","activate","update","vis","querySelector","measure","flexContainer","targetStart","offsetTop","targetEnd","offsetHeight","rect","virtualElement","createElement","parseInt","addEventListener","makeStick","curTop","curBot","hasStick","classList","contains","add","parentNode","insertBefore","removeChild","showTitle","showInventionImg","showSquares","expandGrid","highlightGrid","showHistPart","showHistAll","showCough","showNothing","updateCough","dir","filler","time","col","row","count","j","thresholds","bin","groupByWord","words","d3Collection","word","rollup","v","entries","sort","b","delay","hideAxis","showAxis","axis","marginTop","marginLeft","marginRight","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.41e0165a.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class VerticalNav extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  handleClick = () => {\n    const element = document.getElementsByClassName(\"animal\");\n    console.log(element);\n    // element.scrollToIntoView();\n  };\n\n  render() {\n    return (\n      <div id=\"cd-vertical-nav\">\n        <ul>\n          <li>\n            <a href=\"#home\" onClick={() => this.handleClick()}>\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">Home</span>\n            </a>\n          </li>\n          <li>\n            <a href=\"#introduction\">\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">Introduction</span>\n            </a>\n          </li>\n          <li>\n            <a href=\"#toilet\">\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">Toilet Paper</span>\n            </a>\n          </li>\n          <li>\n            <a href=\"#stock\">\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">Stock</span>\n            </a>\n          </li>\n          <li>\n            <a href=\"#animal\">\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">Animal Adoption</span>\n            </a>\n          </li>\n          <li>\n            <a href=\"#co2\">\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">CO2</span>\n            </a>\n          </li>\n          <li>\n            <a href=\"#traffic\">\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">Traffic</span>\n            </a>\n          </li>\n          <li>\n            <a href=\"#reflection\">\n              <span className=\"cd-dot\"></span>\n              <span className=\"cd-label\">Reflection</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","import { index } from \"d3-array\";\nimport React from \"react\";\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.imagePath = \"image/doctor.jpg\";\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div\n          className=\"home container-fluid\"\n          id=\"home\"\n          style={{\n            height: window.innerHeight,\n            backgroundImage: `url(${this.imagePath})`,\n            backgroundSize: \"cover\",\n            backgroundAttachment: \"fixed\",\n            color: \"black\",\n          }}\n        >\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <h1>Issues with Tissues</h1>\n              <p>\n                The COVID-19 pandemic and resulting economic crisis had an\n                impact on almost every aspect of our life, including toilet\n                paper, stock, gas, how we work, how we live and among many\n                others. Is it all bad effects?\n                <br />\n                <br />\n              </p>\n              <h3>Not really.</h3>\n              <p id=\"credit\">photo credit @Bryan Vectorartist</p>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import * as d3 from \"d3\";\n\nexport default async function fetchAndParse(path, parseCallBack) {\n  const data = await d3.csv(path);\n  return parseCallBack(data);\n}\n","import * as d3 from \"d3\";\nimport React from \"react\";\nimport fetchAndParse from \"../utils/FetchAndParse.js\";\n\nexport default class Animal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataPath: `./data/animal/national_shelter_count_all.csv`,\n      data: [],\n    };\n\n    this.svgRef = React.createRef();\n    this.width = window.innerWidth / 2;\n    this.height = window.innerHeight / 2;\n    console.log(this.height);\n    this.margin = { top: 60, right: 40, bottom: 90, left: 100 };\n\n    this.line = null;\n    this.lineGenerator = null;\n  }\n\n  componentDidMount = () => {\n    const svg = d3.select(this.svgRef.current);\n    svg.attr(\"width\", this.width).attr(\"height\", this.height);\n\n    fetchAndParse(this.state.dataPath, this.parseData).then((data) => {\n      this.setState({ data });\n      const filteredData = data.filter((d) => d.Year === 2020);\n      this.drawSVG(filteredData, svg);\n    });\n  };\n\n  parseData = (data) => {\n    return data.map((d) => {\n      return {\n        Year: +d.Year,\n        Month: +d.Month,\n        LiveOutcome: +d.LiveOutcome,\n      };\n    });\n  };\n\n  handleYearChange = (selectedYear) => {\n    const selectedData = this.state.data.filter((d) => d.Year === selectedYear);\n    this.line\n      .transition()\n      .duration(1000)\n      .attr(\"d\", this.lineGenerator(selectedData))\n      .style(\"stroke\", this.colorScale(selectedYear));\n  };\n\n  drawSVG = (data, svg) => {\n    // accessor\n    const xValue = (d) => d.Month;\n    const xAxisLabel = \"Month\";\n\n    const yValue = (d) => d.LiveOutcome;\n    const yAxisLabel = \"Adoption Count\";\n\n    // frame\n    const innerWidth = this.width - this.margin.left - this.margin.right;\n    const innerHeight = this.height - this.margin.top - this.margin.bottom;\n\n    // scales\n    // const months = this.state.data.map((d) => d.Date.getMonth());\n    const xScale = d3.scaleLinear().domain([1, 12]).range(\n      // (() => {\n      //   let arr = [];\n      //   for (let i = 0; i < 12; i++) arr.push(i * 60);\n      //   return arr;\n      // })()\n      [0, innerWidth]\n    );\n\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, 400000])\n      .range([innerHeight, 0])\n      .nice();\n\n    this.colorScale = d3.scaleOrdinal().domain([2017, 2018, 2019, 2020]).range([\n      \"#FCECDD\", // blue-green\n      \"#FFC288\", // dark pink\n      \"#FEA82F\", // light blue\n      \"#FF6701\", // light purple\n    ]);\n\n    // transformation\n    this.g = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${this.margin.left}, ${this.margin.top})`);\n\n    // tick\n    const xAxis = d3.axisBottom(xScale).tickPadding(15);\n    const yAxis = d3.axisLeft(yScale).tickSize(-innerWidth).tickPadding(15);\n\n    // xAxis and yAxis\n    const xAisG = this.g\n      .append(\"g\")\n      .call(xAxis)\n      .attr(\"transform\", `translate(0, ${innerHeight})`);\n    xAisG.select(\".domain\").remove();\n    xAisG\n      .append(\"text\")\n      .attr(\"class\", \"bg-primary\")\n      .attr(\"y\", 60)\n      .attr(\"x\", innerWidth / 2)\n      .attr(\"fill\", \"#d8d8d8\")\n      .style(\"font-size\", \"15px\")\n      .text(xAxisLabel);\n\n    const yAxisG = this.g.append(\"g\").call(yAxis);\n    yAxisG.selectAll(\".domain\").remove();\n    yAxisG\n      .append(\"text\")\n      .attr(\"class\", \"bg-primary\")\n      .attr(\"y\", -70)\n      .attr(\"x\", -innerHeight / 2)\n      .attr(\"fill\", \"#d8d8d8\")\n      .attr(\"transform\", `rotate(-90)`)\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"15px\")\n      .text(yAxisLabel);\n\n    console.log(xScale(11));\n    // drawing line\n    this.lineGenerator = d3\n      .line()\n      .x((d) => xScale(xValue(d)))\n      .y((d) => yScale(yValue(d)))\n      .curve(d3.curveNatural);\n\n    for (let year = 2017; year <= 2020; year++) {\n      const temp = this.state.data.filter((d) => d.Year === year);\n      this.g\n        .append(\"path\")\n        .attr(\"class\", \"line-path\")\n        .attr(\"id\", `${year}`)\n        .style(\"stroke\", this.colorScale(year))\n        .style(\"opacity\", 0.3)\n        .style(\"stroke-width\", 2)\n        .attr(\"d\", this.lineGenerator(temp));\n    }\n\n    this.handleMouseEnter = () => {\n      focus.style(\"visibility\", \"visible\");\n      focusText.style(\"opacity\", 1);\n    };\n\n    this.handleMouseMove = (event, curDatum) => {\n      const [x, y] = d3.pointer(event);\n      const nx = xScale.invert(x);\n      const ny = yScale.invert(y);\n      focus.style(\"opacity\", 1).attr(\"cx\", xScale(nx)).attr(\"cy\", yScale(ny));\n      focusText\n        .text(`Count: ${Math.floor(ny)}`)\n        .attr(\"x\", xScale(nx) + 30)\n        .attr(\"y\", yScale(ny))\n        .style(\"stroke\", \"white\");\n    };\n\n    this.handleMouseLeave = () => {\n      focus.style(\"visibility\", \"hidden\");\n      focusText.style(\"opacity\", 0);\n    };\n\n    // this.g\n    //   .on(\"mouseenter\", this.handleMouseEnter)\n    //   .on(\"mousemove\", this.handleMouseMove)\n    //   .on(\"mouseleave\", this.handleMouseLeave);\n\n    const line = this.g\n      .append(\"path\")\n      .attr(\"class\", \"line-path highlight\")\n      .attr(\"id\", `${data[0].Year}`)\n      .attr(\"d\", this.lineGenerator(data))\n      .style(\"stroke\", this.colorScale(data[0].Year))\n      .style(\"stroke-width\", 3)\n      .on(\"mouseenter\", this.handleMouseEnter)\n      .on(\"mousemove\", this.handleMouseMove)\n      .on(\"mouseleave\", this.handleMouseLeave);\n\n    const focus = this.g\n      .append(\"circle\")\n      .attr(\"r\", 10)\n      .style(\"visibility\", \"hidden\")\n      .style(\"fill\", \"none\")\n      .style(\"stroke\", \"white\");\n\n    const focusText = this.g\n      .append(\"text\")\n      .style(\"opacity\", 0)\n      .style(\"text-anchor\", \"left\")\n      .style(\"alignment-baseline\", \"middle\");\n\n    // hold a ref to these so that we only update line when new data kicks in\n    this.line = line;\n  };\n\n  render() {\n    return (\n      <div\n        className=\"animal container-fluid d-flex align-items-center\"\n        id=\"animal\"\n        style={{\n          height: window.innerHeight,\n        }}\n      >\n        <div className=\"row\">\n          <div className=\"col-7\">\n            <svg ref={this.svgRef}></svg>\n          </div>\n          <div className=\"col-5\">\n            <h1>Animal Adoption</h1>\n            <div className=\"btn-group btn-group-sm btn-group-toggle d-flex\">\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-light\"\n                onClick={() => this.handleYearChange(2017)}\n              >\n                Year 2017\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-light\"\n                onClick={() => this.handleYearChange(2018)}\n              >\n                Year 2018\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-light\"\n                onClick={() => this.handleYearChange(2019)}\n              >\n                Year 2019\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-light\"\n                onClick={() => this.handleYearChange(2020)}\n              >\n                Year 2020\n              </button>\n            </div>\n            <p className=\"text-justify mt-2\">\n              During the pandemic burst in 2020, we see more and more pets being\n              adopted. One would find it was very hard to adopt a pet from a\n              shelter. Was it truly having more adoptions? or was it just\n              because the available pets were adopted a lot faster than before\n              so that it created an illusion that more pets were adopted?\n              <br />\n              <br />\n              During the pandemic burst in 2020, we see more and more pets being\n              adopted. One would find it was very hard to adopt a pet from a\n              shelter. Was it truly having more adoptions? or was it just\n              because the available pets were adopted a lot faster than before\n              so that it created an illusion that more pets were adopted? During\n              the pandemic burst in 2020, we see more and more pets being\n              adopted. One would find it was very hard to adopt a pet from a\n              shelter. Was it truly having more adoptions? or was it just\n              because the available pets were adopted a lot faster than before\n              so that it created an illusion that more pets were adopted?\n            </p>\n            <br />\n            <br />\n            <h4 className=\"text-center\"> The answer is latter</h4>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\nref: \nhttps://bl.ocks.org/Andrew-Reid/aa5d4329d7e85075391e003c09c8283d \nhttps://stackoverflow.com/questions/54344073/how-to-achieve-disc-shape-in-d3-force-simulation\nhttps://www.theguardian.com/us-news/ng-interactive/2017/dec/20/bussed-out-america-moves-homeless-people-country-studys\n*/\n\nimport React from \"react\";\nimport * as d3 from \"d3\";\n\nexport default class CO2 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.canvasRef = React.createRef();\n    this.width = (window.innerWidth * 3) / 4;\n    this.height = window.innerWidth / 3;\n    this.context = null;\n\n    this.nodes = [];\n    this.strength = -0.25; // default repulsion\n    this.centeringStrength = 0.01; // power of centering force for two clusters\n    this.velocityDecay = 0.15; // velocity decay: higher value, less overshooting\n    this.outerRadius = this.height / 2; // new nodes within this radius\n    this.innerRadius = (1 / 3) * this.outerRadius; // new nodes outside this radius, initial nodes within.\n    this.start = [this.width / 4, this.height / 2]; // new nodes/initial nodes center point\n    this.end = [this.width * (3 / 4), this.height / 2]; // destination center\n    this.n = 1000; // number of initial nodes\n    this.cycles = 100; // number of ticks before stopping.\n    this.tick = 0;\n    this.simulation = null;\n  }\n\n  componentDidMount = () => {\n    const canvas = d3.select(this.canvasRef.current);\n    canvas.attr(\"width\", this.width).attr(\"height\", this.height);\n    this.context = canvas.node().getContext(\"2d\");\n    this.draw();\n  };\n\n  // create a random node\n  random = () => {\n    const angle = Math.random() * Math.PI * 2;\n    const dis =\n      Math.random() * (this.outerRadius - this.innerRadius) + this.innerRadius;\n    const x = Math.cos(angle) * dis + this.start[0];\n    const y = Math.sin(angle) * dis + this.start[1];\n\n    return {\n      x: x,\n      y: y,\n      strength: this.strength,\n      migrated: false,\n    };\n  };\n\n  draw = () => {\n    // clean-up\n    if (this.simulation != null) {\n      this.simulation.stop();\n      this.simulation = null;\n    }\n    this.tick = 0;\n    this.nodes = [];\n\n    // init\n    for (let i = 0; i < this.n; i++) {\n      this.nodes.push(this.random());\n    }\n\n    // create simulation\n    this.simulation = d3\n      .forceSimulation()\n      .force(\n        \"charge\",\n        d3.forceManyBody().strength((d) => d.strength)\n      )\n      .force(\n        \"x\",\n        d3\n          .forceX()\n          .x((d) => (d.migrated ? this.end[0] : this.start[0]))\n          .strength(this.centeringStrength)\n      )\n      .force(\n        \"y\",\n        d3\n          .forceY()\n          .y((d) => (d.migrated ? this.end[1] : this.start[1]))\n          .strength(this.centeringStrength)\n      )\n      .alphaDecay(0)\n      .velocityDecay(this.velocityDecay)\n      .nodes(this.nodes)\n      .on(\"tick\", this.handleTick);\n  };\n\n  handleTick = () => {\n    // stop condition\n    if (this.tick > 300) {\n      this.simulation.stop();\n      this.simulation = null;\n      console.log(\"hit\");\n      return;\n    }\n\n    // update tick and nodes\n    this.tick++;\n    this.simulation.nodes(this.nodes);\n    if (this.tick <= this.cycles) {\n      const migrating = this.simulation.find(\n        (Math.random() - 0.5) * 50 + this.start[0],\n        (Math.random() - 0.5) * 50 + this.start[1],\n        10\n      );\n      if (migrating) migrating.migrated = true;\n    }\n\n    // clear canvas and draw updated dot\n    this.context.clearRect(0, 0, this.width, this.height);\n    this.nodes.forEach((d) => {\n      this.context.beginPath();\n      this.context.fillStyle = d.migrated ? \"#75d1f3\" : \"orange\";\n      this.context.arc(d.x, d.y, 2, 0, Math.PI * 2);\n      this.context.fill();\n    });\n  };\n\n  handleClick = () => {\n    this.draw();\n  };\n\n  render() {\n    return (\n      <div\n        className=\"co2 container-fluid d-flex align-items-center \"\n        id=\"co2\"\n        style={{\n          height: window.innerHeight,\n        }}\n      >\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <h1 className=\"\">CO2 change</h1>\n          </div>\n          <div className=\"col-4\">\n            <p className=\"text-justify\">\n              The COVID-19 pandemic and resulting economic crisis had an impact\n              on almost every aspect of how energy is produced, supplied, and\n              consumed around the world. The pandemic defined energy and\n              emissions trends in 2020 – it drove down fossil fuel consumption\n              for much of the year, whereas renewables and electric vehicles,\n              two of the main building blocks of clean energy transitions, were\n              largely immune. As primary energy demand dropped nearly 4% in\n              2020, global energy-related CO2 emissions fell by 5.8% according\n              to the latest statistical data, the largest annual percentage\n              decline since World War II.\n              <br />\n              <br />\n              In absolute terms, the decline in emissions of almost 2 000\n              million tonnes of CO2 is without precedent in human history –\n              broadly speaking, this is the equivalent of removing all of the\n              European Union’s emissions from the global total. Demand for\n              fossil fuels was hardest hit in 2020 – especially oil, which\n              plunged 8.6%, and coal, which dropped by 4%. Oil’s annual decline\n              was its largest ever, accounting for more than half of the drop in\n              global emissions. Global emissions from oil use plummeted by well\n              over 1 100 Mt CO2, down from around 11 400 Mt in 2019.\n              <br />\n              <br />\n              The drop in road transport activity accounted for 50% of the\n              decline in global oil demand, and the slump in the aviation sector\n              for around 35%. Meanwhile, low-carbon fuels and technologies, in\n              particular, solar PV and wind, reached their highest ever annual\n              share of the global energy mix, increasing it by more than one\n              percentage point to over 20%.\n            </p>\n            <br />\n            <br />\n            <button\n              type=\"button\"\n              className=\"btn btn-outline-light\"\n              onClick={this.handleClick}\n            >\n              play / replay\n            </button>\n          </div>\n          <div className=\"col-8\">\n            <div className=\"row\">\n              <div className=\"col-12 d-flex align-items-center justify-content-center\">\n                <span\n                  style={{\n                    height: 15,\n                    width: 15,\n                    backgroundColor: \"orange\",\n                    borderRadius: \"50%\",\n                    display: \"inline-block\",\n                  }}\n                ></span>\n                <span>\n                  &nbsp; &nbsp; &nbsp;if one dot is representing 3 tons of CO2\n                </span>\n              </div>\n              <canvas className=\"col-12\" ref={this.canvasRef}></canvas>\n              <div className=\"col-6\">\n                <h5 className=\"mx-auto\">CO2 emissions in 2019</h5>\n              </div>\n              <div className=\"col-6\">\n                <h5 className=\"mx-auto\">CO2 emissions decreased in 2020</h5>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Introduction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.imagePath = \"image/activity.jpg\";\n  }\n\n  render() {\n    return (\n      <div\n        className=\"introduction container-fluid d-flex align-items-center\"\n        id=\"introduction\"\n        style={{\n          height: window.innerHeight,\n        }}\n      >\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <h1 className=\"text-left\" style={{ fontSize: \"4em\" }}>\n              Introduction\n            </h1>\n          </div>\n          <div className=\"col-6 text-justify\">\n            <p>\n              Coronaviruses are a large family of viruses that are known to\n              cause illness ranging from the common cold to more severe diseases\n              such as Middle East Respiratory Syndrome (MERS) and Severe Acute\n              Respiratory Syndrome (SARS). A novel coronavirus (COVID-19) was\n              identified in 2019 in Wuhan, China. This is a new coronavirus that\n              has not been previously identified in humans. This course provides\n              a general introduction to COVID-19 and emerging respiratory\n              viruses and is intended for public health professionals, incident\n              managers and personnel working for the United Nations,\n              international organizations and NGOs. As the official disease name\n              was established after material creation, any mention of nCoV\n              refers to COVID-19, the infectious disease caused by the most\n              recently discovered coronavirus.\n            </p>\n            <br />\n            <p>\n              Coronaviruses are a large family of viruses that are known to\n              cause illness ranging from the common cold to more severe diseases\n              such as Middle East Respiratory Syndrome (MERS) and Severe Acute\n              Respiratory Syndrome (SARS). A novel coronavirus (COVID-19) was\n              identified in 2019 in Wuhan, China. This is a new coronavirus that\n              has not been previously identified in humans. This course provides\n              a general introduction to COVID-19 and emerging respiratory\n              viruses and is intended for public health professionals, incident\n              managers and personnel working for the United Nations,\n              international organizations and NGOs. As the official disease name\n              was established after material creation, any mention of nCoV\n              refers to COVID-19, the infectious disease caused by the most\n              recently discovered coronavirus.\n            </p>\n            <br />\n            <p>\n              Coronaviruses are a large family of viruses that are known to\n              cause illness ranging from the common cold to more severe diseases\n              such as Middle East Respiratory Syndrome (MERS) and Severe Acute\n              Respiratory Syndrome (SARS). A novel coronavirus (COVID-19) was\n              identified in 2019 in Wuhan, China. This is a new coronavirus that\n              has not been previously identified in humans.\n            </p>\n          </div>\n          <div className=\"col-6\">\n            <img src={`${this.imagePath}`} style={{ width: \"100%\" }} />\n            <p className=\"text-right\" id=\"credit\">\n              photo credit @MUTI\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\nref: http://bl.ocks.org/WillTurman/4631136\n*/\nimport React from \"react\";\nimport * as d3 from \"d3\";\n\nexport default class Stock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.svgRef = React.createRef();\n    this.margin = { top: 30, right: 0, bottom: 30, left: 0 };\n    this.width = window.innerWidth;\n    this.height = 680;\n\n    this.innerWidth = this.width - this.margin.left - this.margin.right;\n    this.innerHeight = this.height - this.margin.top - this.margin.bottom;\n\n    this.dataPath = [];\n    this.companyList = [\n      \"Delta\",\n      \"Moderna\",\n      \"ExxonMobil\",\n      \"Nordstrom\",\n      \"Disney\",\n      \"Uber\",\n      \"Netflix\",\n      \"Boeing\",\n      \"Chewy\",\n      \"Zillow\",\n      \"Zoom\",\n      \"Facebook\",\n      \"Tesla\",\n      \"Google\",\n      \"Amazon\",\n    ];\n\n    this.companyList.forEach((element) => {\n      this.dataPath.push(`./data/stock/${element}.csv`);\n    });\n\n    this.data = [];\n    this.date = [];\n  }\n\n  componentDidMount = async () => {\n    await this.setupData();\n    this.draw();\n  };\n\n  setupData = async () => {\n    await this.collectData();\n    this.groupData();\n    this.collectDate();\n  };\n\n  collectDate = () => {\n    this.data.forEach((d) => this.date.push({ Date: d.Date }));\n  };\n\n  collectData = async () => {\n    for (let i = 0; i < this.dataPath.length; i++) {\n      let rawData = await d3.csv(this.dataPath[i]);\n      rawData = rawData.map((d) => {\n        let priceStr = d[\"Close/Last\"];\n        let priceTokens = priceStr.split(\"$\");\n        let priceNum = +priceTokens[1];\n        let nameTokens = this.dataPath[i].split(\"/\");\n        nameTokens = nameTokens[nameTokens.length - 1].split(\".\");\n        let nameStr = nameTokens[0];\n        return {\n          Date: new Date(d.Date),\n          [nameStr]: priceNum,\n        };\n      });\n      rawData.reverse(); // reverse date order\n      rawData = rawData.filter((d) => {\n        return d.Date.getFullYear() === 2020 && d.Date.getDate() % 3 === 0; // % 3 to smooth out data\n      });\n      this.data.push(rawData);\n    }\n  };\n\n  groupData = () => {\n    const map = d3.group(this.data.flat(), (d) => d.Date);\n    let tempArr = [];\n    for (let key of map.keys()) {\n      let target = {};\n      map.get(key).forEach((item) => {\n        Object.assign(target, item);\n      });\n      tempArr.push(target);\n    }\n    this.data = tempArr;\n  };\n\n  draw = () => {\n    // data\n    const stackGen = d3\n      .stack()\n      .keys(this.companyList)\n      .offset(d3.stackOffsetWiggle);\n    const stackedSeries = stackGen(this.data);\n\n    // svg\n    const svg = d3.select(this.svgRef.current);\n    svg.attr(\"width\", this.width).attr(\"height\", this.height);\n    const g = svg\n      .append(\"g\")\n      .attr(\n        \"transform\",\n        `translate(${this.margin.left}, ${this.margin.top + 100})`\n      );\n\n    // scale\n    const xScale = d3\n      .scaleTime()\n      .domain([new Date(2020, 0, 1), new Date(2020, 12, 1)])\n      .range([0, this.innerWidth])\n      .nice();\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, 4000])\n      .range([0, this.height / 3]);\n    const colorScale = d3.scaleOrdinal().domain(this.companyList).range([\n      // \"#ab2668\", // purple\n      // \"#ef3f5d\", // light-red\n      // \"#00aaa9\", // green-blue\n      // \"#bfc0c2\", // light-grey\n      // \"#fcf001\", // light-yellow\n      // \"#c2272d\", // dark red\n      // \"#c9da29\", // blue-yellow\n      \"#03a7c1\", // blue-green\n      \"#be1a8b\", // dark pink\n      \"#75d1f3\", // light blue\n      \"#7f65aa\", // light purple\n      \"#01aef0\", // blue\n      \"#ed0477\", // pink\n      \"#5d2d91\", // dark purple\n      \"#84bc41\", // light green\n      \"#01954e\", // green\n      \"#ffc60e\", // yellow\n      \"#94238e\", // purple\n      \"#ec6aa0\", // light pink\n      \"#d71b32\", // red\n      \"#f69324\", // orange\n      \"#015aaa\", // blue\n    ]);\n\n    // axis\n    const xAxis = d3\n      .axisBottom(xScale)\n      .ticks(d3.timeWeek)\n      .tickPadding(15)\n      .tickSize(1);\n\n    // draw\n    const areaGen = d3\n      .area()\n      .x((d) => xScale(d.data.Date))\n      .y0((d) => yScale(d[0]))\n      .y1((d) => yScale(d[1]))\n      .curve(d3.curveBasis);\n\n    const vertical = d3\n      .select(\"#vertical\")\n      .style(\"position\", \"absolute\")\n      .style(\"z-index\", 20)\n      .style(\"width\", \"1px\")\n      .style(\"height\", `${this.height - this.margin.bottom}px`)\n      .style(\"background\", \"#fff\")\n      .style(\"visibility\", \"hidden\");\n\n    g.selectAll(\"path\")\n      .data(stackedSeries)\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", areaGen)\n      .attr(\"fill\", (d, i) => colorScale(d.key));\n    const xAisG = g\n      .append(\"g\")\n      .attr(\"class\", \"xAxis\")\n      .attr(\"transform\", `translate(0, ${this.innerHeight - 250})`)\n      .call(xAxis);\n    xAisG.select(\".domain\").remove();\n\n    this.handleMouseMove = (event, curDatum) => {\n      const [x, y] = d3.pointer(event);\n      svg.selectAll(\"#tooltip\").remove();\n\n      const bisect = d3.bisector((d) => d.Date);\n      const curDate = xScale.invert(x);\n      const curIdx = bisect.center(this.date, curDate);\n      const curFirm = curDatum.key;\n      const value = this.data[curIdx][curFirm];\n\n      svg\n        .append(\"text\")\n        .attr(\"x\", x)\n        .attr(\"y\", y + 100)\n        .attr(\"id\", \"tooltip\")\n        .style(\"fill\", \"white\")\n        .style(\"font-weight\", \"bold\")\n        .style(\"font-size\", \"20px\")\n        .text(`${curFirm} $${value}`);\n\n      vertical.style(\"left\", `${x + 10}px`).style(\"visibility\", \"visible\");\n    };\n\n    g.selectAll(\"path\")\n      .attr(\"opacity\", 1)\n      .on(\"mouseenter\", handleMouseEnter)\n      .on(\"mousemove\", this.handleMouseMove)\n      .on(\"mouseleave\", handleMouseLeave);\n\n    // helper functions\n    // function stackMax(layers) {\n    //   return d3.max(layers, (d) => d[1]);\n    // }\n\n    // function stackMin(layers) {\n    //   return d3.min(layers, (d) => d[0]);\n    // }\n\n    function handleMouseEnter(event, curDatum) {\n      let curIdx = curDatum.index;\n      g.selectAll(\"path\")\n        .transition()\n        .duration(0)\n        .attr(\"opacity\", (d, idx) => (idx !== curIdx ? 0.2 : 1));\n    }\n\n    function handleMouseLeave(event, curDatum) {\n      g.selectAll(\"path\").transition().duration(250).attr(\"opacity\", 1);\n      svg.selectAll(\"#tooltip\").remove();\n\n      vertical.style(\"visibility\", \"hidden\");\n    }\n  };\n\n  render() {\n    return (\n      <div\n        className=\"stock container-fluid\"\n        id=\"stock\"\n        style={{\n          height: window.innerHeight,\n        }}\n      >\n        <div className=\"row\">\n          <div className=\"col-5\">\n            <h1>Stock</h1>\n            <p className=\"text-justify\">\n              The COVID-19 pandemic and resulting economic crisis had an impact\n              on almost every aspect of our life, including toilet paper, stock,\n              gas, how we work, how we live and among many others. Is it all bad\n              effects?\n            </p>\n          </div>\n        </div>\n        <div className=\"row row-full\">\n          <div className=\"col\">\n            <div id=\"vertical\"></div>\n            <svg ref={this.svgRef}></svg>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/**\n * ref:\n * https://github.com/vlandham/scroll_demo/blob/gh-pages/js/scroller.js\n * https://vallandingham.me/think_you_can_scroll.html\n */\nimport * as d3 from \"d3\";\n\nexport default class Scroller {\n  /**\n   * Sets up scroller to monitor scrolling of els selection.\n   * @param elements - d3 selection of elements that will be scrolled through by user.\n   * @param container - d3 selection of container that contains section + visualization area\n   */\n  constructor(elements, container) {\n    this.container = container;\n    this.sections = elements;\n\n    this.sectionPositions = [];\n    this.currentIndex = -1;\n    this.containerStart = 0;\n\n    this.dispatch = d3.dispatch(\"active\", \"progress\");\n\n    // .scroller namespace\n    d3.select(window)\n      .on(\"scroll.scroller\", this.position)\n      .on(\"resize.scroller\", this.resize);\n\n    // manually call resize initially to setup scroller.\n    this.resize();\n  }\n\n  /**\n   * resize - called initially and also when page is resized.\n   * Resets the sectionPositions\n   */\n  resize = () => {\n    // sectionPositions will be each sections starting position relative to the top of the first section.\n    let startPos;\n    this.sections.each((d, i, nodes) => {\n      let top = nodes[i].getBoundingClientRect().top;\n      if (i === 0) startPos = top;\n      this.sectionPositions.push(top - startPos);\n    });\n    // container's relative pos to viewport + the absolute pos of viewport in document\n    this.containerStart =\n      this.container.node().getBoundingClientRect().top + window.scrollY;\n  };\n\n  /**\n   * position - get current users position. if user has scrolled to new section, dispatch active event with new section index.\n   */\n  position = () => {\n    let pos = window.scrollY - 10 - this.containerStart;\n    let sectionIndex = d3.bisect(this.sectionPositions, pos);\n    sectionIndex = Math.min(this.sections.size() - 1, sectionIndex);\n    console.log(sectionIndex);\n    if (this.currentIndex !== sectionIndex) {\n      this.dispatch.call(\"active\", this, sectionIndex);\n      this.currentIndex = sectionIndex;\n    }\n    let prevIndex = Math.max(sectionIndex - 1, 0);\n    let prevTop = this.sectionPositions[prevIndex];\n    let progress =\n      (pos - prevTop) / (this.sectionPositions[sectionIndex] - prevTop);\n    this.dispatch.call(\"progress\", this, this.currentIndex, progress);\n  };\n\n  getContainer = () => {\n    return this.container;\n  };\n\n  setContainer = (container) => {\n    this.container = container;\n  };\n\n  // implements a .on method to pass in a callback to the dispatcher.\n  on = (action, callback) => {\n    this.dispatch.on(action, callback);\n  };\n}\n","/*\nref: https://github.com/vlandham/scroll_demo\nhttps://vallandingham.me/think_you_can_scroll.html\nhttps://github.com/vlandham/scroll_demo/blob/gh-pages/post.md\nhttps://lancecourse.com/howto/the-science-of-creating-fixed-components-on-scroll-with-vanilla-javascript\n*/\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport * as d3Collection from \"d3-collection\";\nimport Scroller from \"../utils/Scroller\";\n\nexport default class ToiletPaper extends React.Component {\n  width = window.innerWidth / 3;\n  height = this.width;\n  margin = { top: 10, left: 10, bottom: 10, right: 10 };\n  lastIndex = -1;\n  activeIndex = 0;\n\n  squareSize = window.innerWidth / 198;\n  squarePad = this.squareSize;\n  numPerRow = this.width / (this.squareSize + this.squarePad);\n\n  svg = null;\n  g = null;\n\n  activateFunctions = [];\n  updateFunctions = [];\n\n  // data: https://www.statista.com/chart/15676/cmo-toilet-paper-consumption/\n  rollsRaw = [\n    { Country: \"US\", Rolls: 141 },\n    { Country: \"Germany\", Rolls: 134 },\n    { Country: \"UK\", Rolls: 127 },\n    { Country: \"Japan\", Rolls: 91 },\n    { Country: \"Australia\", Rolls: 88 },\n    { Country: \"Spain\", Rolls: 81 },\n    { Country: \"France\", Rolls: 71 },\n    { Country: \"Italy\", Rolls: 70 },\n    { Country: \"China\", Rolls: 49 },\n    { Country: \"Brazil\", Rolls: 38 },\n  ];\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount = () => {\n    d3.tsv(\"./data/words.tsv\").then((data) => {\n      this.init(data);\n    });\n  };\n\n  //#region initialization\n\n  /**\n   * called once data has been loaded.\n   * @param rawData - loaded tsv data\n   */\n  init = (rawData) => {\n    this.setupData(rawData);\n\n    this.setupVis(d3.select(\"#vis\"));\n    this.setupOverallIncrease();\n    this.setupInvention();\n    this.setupGrid();\n    this.setupBarChart();\n    this.setupHistogram();\n\n    this.setupScroller();\n    this.setupSections();\n  };\n\n  setupData = (rawData) => {\n    this.wordData = this.getWords(rawData);\n    this.fillerWords = this.getFillerWords(this.wordData);\n    this.generateRolls();\n  };\n\n  /**\n   * @param selection - the current d3 selection(s) to draw the visualization in.\n   */\n\n  setupVis = (selection) => {\n    this.svg = selection.selectAll(\"svg\").data([this.wordData]); // [array] wraps array as an another array with just 1 item inside\n    var svgEntry = this.svg.enter().append(\"svg\");\n    this.svg = this.svg.merge(svgEntry);\n    this.svg.attr(\"width\", this.width + this.margin.left + this.margin.right);\n    this.svg.attr(\"height\", this.height + this.margin.top + this.margin.bottom);\n    this.svg.append(\"g\");\n    this.g = this.svg\n      .select(\"g\")\n      .attr(\"transform\", `translate(${this.margin.left},${this.margin.top})`);\n  };\n\n  setupOverallIncrease = () => {\n    this.g\n      .append(\"text\")\n      .attr(\"class\", \"title tp-overall-increase highlight\")\n      .attr(\"x\", this.width / 2)\n      .attr(\"y\", this.height / 3)\n      .text(\"40%\");\n    this.g\n      .append(\"text\")\n      .attr(\"class\", \"sub-title tp-overall-increase\")\n      .attr(\"x\", this.width / 2)\n      .attr(\"y\", this.height / 3 + this.height / 5)\n      .text(\"Overall Increase\")\n      .style(\"fill\", \"#fff\");\n    this.g.selectAll(\".tp-overall-increase\").attr(\"opacity\", 0);\n  };\n\n  setupInvention = () => {\n    this.g\n      .append(\"image\")\n      .attr(\"class\", \"tp-invention-img\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", this.width)\n      .attr(\"height\", this.height)\n      .attr(\"xlink:href\", \"./image/toilet_paper_invention.jpg\")\n      .attr(\"opacity\", 0);\n  };\n\n  setupGrid = () => {\n    const countryList = [\n      \"US\",\n      \"Germany\",\n      \"UK\",\n      \"Japan\",\n      \"Australia\",\n      \"Spain\",\n      \"France\",\n      \"Italy\",\n      \"China\",\n      \"Brazil\",\n    ];\n\n    this.colorScale = d3.scaleOrdinal().domain(countryList).range([\n      // \"#ab2668\", // purple\n      \"#ef3f5d\", // light-red\n      \"#00aaa9\", // green-blue\n      // \"#bfc0c2\", // light-grey\n      \"#fcf001\", // light-yellow\n      // \"#c2272d\", // dark red\n      // \"#c9da29\", // blue-yellow\n      // \"#03a7c1\", // blue-green\n      // \"#be1a8b\", // dark pink\n      \"#75d1f3\", // light blue\n      // \"#7f65aa\", // light purple\n      // \"#01aef0\", // blue\n      \"#ed0477\", // pink\n      // \"#5d2d91\", // dark purple\n      // \"#015aaa\", // blue\n      \"#84bc41\", // light green\n      \"#01954e\", // green\n      \"#ffc60e\", // yellow\n      // \"#94238e\", // purple\n      \"#ec6aa0\", // light pink\n      // \"#d71b32\", // red\n      \"#f69324\", // orange\n    ]);\n\n    let squares = this.g.selectAll(\".square\").data(this.rollsProcessed);\n    const squaresE = squares.enter().append(\"rect\").classed(\"square\", true);\n    squares = squares\n      .merge(squaresE)\n      .attr(\"width\", this.squareSize)\n      .attr(\"height\", this.squareSize)\n      .attr(\"fill\", (d) => this.colorScale(d.Country))\n      .attr(\"x\", (d) => d.x)\n      .attr(\"y\", (d) => d.y)\n      .attr(\"opacity\", 0)\n      .attr(\"transform\", `translate(0, ${50})`);\n\n    const legend = this.g\n      .selectAll(\".legend\")\n      .data(countryList)\n      .enter()\n      .append(\"rect\")\n      .classed(\"legend\", true)\n      .attr(\"width\", this.squareSize)\n      .attr(\"height\", this.squareSize)\n      .attr(\"fill\", (d) => this.colorScale(d))\n      .attr(\"x\", (d, i) => i * this.squareSize * 6)\n      .attr(\"y\", 0)\n      .attr(\"opacity\", 0);\n\n    const legendText = this.g\n      .selectAll(\".legend-text\")\n      .data(countryList)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"legend-text\")\n      .text((d) => d)\n      .attr(\"x\", (d, i) => i * this.squareSize * 6)\n      .attr(\"y\", 0)\n      .attr(\"transform\", `translate(0, ${this.squareSize + 15})`)\n      .style(\"font-size\", 10)\n      .attr(\"fill\", \"white\")\n      .attr(\"opacity\", 0);\n  };\n\n  setupBarChart = () => {\n    // const fillerCounts = this.groupByWord(this.fillerWords);\n    // const countMax = d3.max(fillerCounts, (d) => d.value);\n    // this.xBarScale = d3\n    //   .scaleLinear()\n    //   .domain([0, countMax])\n    //   .range([0, this.width]);\n    // this.yBarScale = d3\n    //   .scaleBand()\n    //   .paddingInner(0.08)\n    //   .domain([0, 1, 2])\n    //   .range([0, this.height - 50], 0.1, 0.1);\n    // this.xAxisBar = d3.axisBottom().scale(this.xBarScale);\n    // this.g\n    //   .append(\"g\")\n    //   .attr(\"class\", \"x axis\")\n    //   .attr(\"transform\", `translate(0, ${this.height - 40})`)\n    //   .call(this.xAxisBar);\n    // this.g.select(\".x.axis\").style(\"opacity\", 0);\n  };\n\n  setupHistogram = () => {\n    this.colors = {\n      0: \"#84bc41\", // light green\n      1: \"#fcf001\", // light yellow\n      2: \"#75d1f3\", // light blue\n      3: \"#ef3f5d\", // light-red\n    };\n    this.changeColorScale = d3\n      .scaleLinear()\n      .domain([0, 1.0])\n      .range([\"#84bc41\", \"#75d1f3\"]);\n\n    this.xHistScale = d3\n      .scaleLinear()\n      .domain([1, 13])\n      .range([0, this.width - 20]);\n    this.xAxisHist = d3.axisBottom().scale(this.xHistScale);\n    this.g\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate(0, ${this.height - 40})`)\n      .call(this.xHistScale);\n    this.g.select(\".x.axis\").style(\"opacity\", 0);\n\n    const histData = this.getOtherHist();\n    // const histData = this.getHistogram(this.fillerWords);\n    const histMax = d3.max(histData, (d) => d.length);\n\n    this.yHistScale = d3\n      .scaleLinear()\n      .domain([0, histMax])\n      .range([this.height, 0]);\n\n    let hist = this.g.selectAll(\".hist\").data(histData);\n    const histE = hist.enter().append(\"rect\").attr(\"class\", \"hist\");\n    hist = hist\n      .merge(histE)\n      .attr(\"x\", (d) => this.xHistScale(d.x0))\n      .attr(\"y\", this.height)\n      .attr(\"height\", 0)\n      .attr(\n        \"width\",\n        this.xHistScale(histData[0].x1) - this.xHistScale(histData[0].x0) - 1\n      )\n      .attr(\"transform\", `translate(0, ${-40})`)\n      .attr(\"fill\", this.colors[0])\n      .attr(\"opacity\", 0);\n  };\n\n  setupScroller = () => {\n    // setup onScroll event\n    const scroller = new Scroller(d3.selectAll(\".step\"), d3.select(\"#graphic\"));\n\n    scroller.on(\"active\", (curIndex) => {\n      d3.selectAll(\".step\").style(\"opacity\", (d, i) =>\n        i === curIndex ? 1 : 0.1\n      );\n\n      this.activate(curIndex);\n    });\n\n    scroller.on(\"progress\", (curIndex, progress) => {\n      this.update(curIndex, progress);\n    });\n\n    // setup start and end stick trigger\n    this.vis = document.querySelector(\"#vis\");\n    this.measure = document.querySelector(\"#graphic > .col\");\n    this.flexContainer = document.querySelector(\"#graphic\");\n\n    this.targetStart = this.measure.offsetTop;\n    this.targetEnd = this.targetStart + this.measure.offsetHeight;\n    this.rect = this.vis.getBoundingClientRect();\n\n    this.virtualElement = document.createElement(\"div\");\n    this.virtualElement.style.height = `${parseInt(this.rect.height)}px`;\n\n    window.addEventListener(\"scroll\", this.makeStick);\n  };\n\n  makeStick = () => {\n    const curTop = window.scrollY;\n    const curBot = window.innerHeight + curTop;\n    const hasStick = this.vis.classList.contains(\"stick\");\n\n    if (curTop >= this.targetStart && curBot <= this.targetEnd && !hasStick) {\n      this.vis.classList.add(\"stick\");\n      this.vis.style.width = `${parseInt(this.rect.width)}px`;\n      this.vis.parentNode.insertBefore(this.virtualElement, this.vis);\n\n      this.flexContainer.classList.remove(\"align-items-end\");\n      this.flexContainer.classList.add(\"align-items-start\");\n    } else if (curTop <= this.targetStart && hasStick) {\n      this.vis.classList.remove(\"stick\");\n      this.vis.style.width = \"auto\";\n      this.vis.parentNode.removeChild(this.virtualElement);\n    } else if (curBot >= this.targetEnd && hasStick) {\n      this.vis.classList.remove(\"stick\");\n      this.vis.style.width = \"auto\";\n      this.vis.parentNode.removeChild(this.virtualElement);\n\n      // this.flexContainer.classList.add(\"align-items-end\");\n      // this.flexContainer.classList.remove(\"align-items-start\");\n    }\n  };\n\n  setupSections = () => {\n    this.activateFunctions.push(\n      this.showTitle,\n      this.showInventionImg,\n      this.showSquares,\n      this.expandGrid,\n      this.highlightGrid,\n      this.showHistPart,\n      this.showHistAll,\n      this.showCough,\n      this.showNothing\n    );\n\n    for (let i = 0; i < this.activateFunctions.length; i++) {\n      this.updateFunctions[i] = function () {};\n    }\n    this.updateFunctions[7] = this.updateCough;\n  };\n\n  /**\n   * activate current section's visualization\n   * @param curIndex - index of the activated section\n   */\n  activate = (curIndex) => {\n    this.activeIndex = curIndex;\n    const dir = this.activeIndex > this.lastIndex ? 1 : -1;\n    const scrolledSections = d3.range(\n      this.lastIndex + dir,\n      this.activeIndex + dir,\n      dir\n    );\n    scrolledSections.forEach((i) => {\n      this.activateFunctions[i]();\n    });\n    this.lastIndex = this.activeIndex;\n  };\n\n  /**\n   * update current section's visualization based on progress\n   * @param curIndex - index of the activated section\n   * @param progress - progress of the activated section\n   */\n  update = (curIndex, progress) => {\n    this.updateFunctions[curIndex](progress);\n  };\n\n  //#endregion initialization\n\n  //#region data func\n\n  /**\n   * maps raw data to array of data objects.\n   * @param rawData - data read in from file\n   */\n  getWords = (rawData) => {\n    return rawData.map((d, i) => {\n      // post-process each data\n      d.filler = d.filler === \"1\" ? true : false;\n      d.time = +d.time;\n      d.min = Math.floor(d.time / 60);\n\n      // position for each square\n      d.col = i % this.numPerRow;\n      d.row = Math.floor(i / this.numPerRow);\n      d.x = d.col * (this.squareSize + this.squarePad);\n      d.y = d.row * (this.squareSize + this.squarePad);\n      return d;\n    });\n  };\n\n  /**\n   * returns array of only filler words\n   * @param data - post-processed data from getWords()\n   */\n  getFillerWords = (data) => {\n    return data.filter((d) => d.filler);\n  };\n\n  /**\n   * use d3's histogram layout to generate histogram bins for our word data\n   * @param data - post-processed data from getFillerWords()\n   */\n  // getHistogram = (data) => {\n  //   const thirtyMins = data.filter((d) => d.min < 30);\n  //   console.log(this.xHistScale.ticks(10));\n  //   const bin = d3\n  //     .bin()\n  //     .thresholds(this.xHistScale.ticks(10))\n  //     .value((d) => d.min);\n  //   return bin(thirtyMins);\n  // };\n\n  getOtherHist = () => {\n    // create dataset\n    const increasePercentByMonth = [2, 4, 90, 42, 17, 8, 10, 5, 1, 9, 55, 50];\n    const data = [];\n    increasePercentByMonth.forEach((count, idx) => {\n      for (let j = 0; j < count; j++) {\n        data.push({\n          Month: idx + 1,\n        });\n      }\n    });\n\n    // bin the data\n    const bin = d3\n      .bin()\n      .thresholds(this.xHistScale.ticks())\n      .value((d) => d.Month);\n    return bin(data);\n  };\n\n  /**\n   * groupByWord - group words together using nest Used to get counts for bar charts.\n   * @param words\n   */\n  groupByWord = (words) => {\n    return d3Collection\n      .nest()\n      .key((d) => d.word)\n      .rollup((v) => v.length)\n      .entries(words)\n      .sort((a, b) => b.value - a.value);\n  };\n\n  generateRolls = () => {\n    this.rollsProcessed = [];\n    this.rollsRaw.forEach((d, i) => {\n      for (let count = 0; count < d.Rolls; count++) {\n        this.rollsProcessed.push({\n          Country: d.Country,\n        });\n      }\n    });\n    this.rollsProcessed.map((d, i) => {\n      d.col = i % this.numPerRow;\n      d.row = Math.floor(i / this.numPerRow);\n      d.x = d.col * (this.squareSize + this.squarePad);\n      d.y = d.row * (this.squareSize + this.squarePad);\n      return d;\n    });\n  };\n\n  //#endregion data func\n\n  //#region activate func\n\n  /**\n   * hides: count title\n   * (no previous step to hide)\n   * shows: intro title\n   */\n  showTitle = () => {\n    this.g\n      .selectAll(\".tp-invention-img\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".tp-overall-increase\")\n      .transition()\n      .duration(600)\n      .attr(\"opacity\", 1.0);\n  };\n\n  /**\n   * hides: intro title\n   * hides: square grid\n   * shows: filler count title\n   */\n  showInventionImg = () => {\n    this.g\n      .selectAll(\".tp-overall-increase\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    this.g.selectAll(\".square\").transition().duration(0).attr(\"opacity\", 0);\n    this.g.selectAll(\".legend\").transition().duration(0).attr(\"opacity\", 0);\n    this.g\n      .selectAll(\".legend-text\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".tp-invention-img\")\n      .transition()\n      .duration(600)\n      .attr(\"opacity\", 1.0);\n  };\n\n  /**\n   * hides: square grid\n   * hides: histogram\n   * shows: barchart\n   */\n  showSquares = () => {\n    // hide before\n    this.g\n      .selectAll(\".tp-invention-img\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    // show cur\n    this.g\n      .selectAll(\".square\")\n      .transition()\n      .duration(600)\n      .delay((d) => 5 * d.row)\n      .attr(\"x\", 0)\n      .attr(\"y\", (d) => d.y)\n      .attr(\"fill\", (d) => this.colorScale(d.Country))\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 1);\n\n    this.g.selectAll(\".legend\").transition().duration(600).attr(\"opacity\", 1);\n    this.g\n      .selectAll(\".legend-text\")\n      .transition()\n      .duration(1000)\n      .attr(\"opacity\", 1);\n\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(600)\n      .attr(\"height\", () => 0)\n      .attr(\"y\", () => this.height)\n      .style(\"opacity\", 0);\n  };\n\n  /**\n   * hides: filler count title\n   * hides: filler highlight in grid\n   * shows: square grid\n   */\n  expandGrid = () => {\n    // hide before\n    this.g\n      .selectAll(\".tp-invention-img\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    // hide after\n    this.hideAxis();\n\n    // show cur\n    this.g\n      .selectAll(\".square\")\n      .transition()\n      .duration(600)\n      .delay((d) => 5 * d.row)\n      .attr(\"x\", (d) => d.x)\n      .attr(\"y\", (d) => d.y)\n      .attr(\"fill\", (d) => this.colorScale(d.Country))\n      .attr(\"opacity\", 1.0);\n\n    this.g.selectAll(\".legend\").transition().duration(600).attr(\"opacity\", 1);\n    this.g\n      .selectAll(\".legend-text\")\n      .transition()\n      .duration(600)\n      .attr(\"opacity\", 1);\n  };\n\n  /**\n   * hides: barchart, text and axis\n   * shows: square grid and highlighted\n   *  filler words. also ensures squares\n   *  are moved back to their place in the grid\n   */\n  highlightGrid = () => {\n    this.hideAxis();\n\n    // hide after\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(600)\n      .attr(\"y\", this.height)\n      .attr(\"height\", 0)\n      .style(\"opacity\", 1);\n\n    this.g\n      .selectAll(\".square\")\n      .transition()\n      .attr(\"x\", (d) => d.x)\n      .attr(\"y\", (d) => d.y)\n      .delay((d) => 5 * d.col)\n      .duration(600)\n      .attr(\"opacity\", 1.0);\n    this.g.selectAll(\".legend\").transition().duration(0).attr(\"opacity\", 1);\n    this.g\n      .selectAll(\".legend-text\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 1);\n\n    // use named transition to ensure move happens even if other transitions are interrupted.\n    this.g\n      .selectAll(\".square\")\n      .transition(\"move-fills\")\n      .duration(800)\n      .attr(\"opacity\", 1.0)\n      .attr(\"fill\", (d) =>\n        d.Country === \"US\" ? this.colorScale(\"US\") : \"lightgrey\"\n      );\n  };\n\n  /**\n   * hides: barchart\n   * hides: last half of histogram\n   * shows: first half of histogram\n   */\n  showHistPart = () => {\n    // hide before\n    this.g\n      .selectAll(\".square\")\n      .transition()\n      .duration(600)\n      .delay((d) => 5 * d.col)\n      .attr(\"y\", this.height - 100)\n      .attr(\"opacity\", 0);\n    this.g.selectAll(\".legend\").transition().duration(0).attr(\"opacity\", 0);\n    this.g\n      .selectAll(\".legend-text\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    // show current\n    this.showAxis(this.xAxisHist);\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(600)\n      .attr(\"y\", (d) => (d.x0 <= 2 ? this.yHistScale(d.length) : this.height))\n      .attr(\"height\", (d) =>\n        d.x0 <= 2 ? this.height - this.yHistScale(d.length) : 0\n      )\n      .style(\"opacity\", (d) => (d.x0 <= 2 ? 1.0 : 1e-6));\n  };\n\n  /**\n   * hides: cough title and color\n   * (previous step is also part of the\n   *  histogram, so we don't have to hide\n   *  that)\n   * shows: all histogram bars\n   */\n  showHistAll = () => {\n    // ensure the axis to histogram one\n    this.showAxis(this.xAxisHist);\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(1200)\n      .attr(\"y\", (d) => this.yHistScale(d.length))\n      .attr(\"height\", (d) => this.height - this.yHistScale(d.length))\n      .attr(\"fill\", (d) => (d.x0 <= 2 ? this.colors[0] : this.colors[3]))\n      .style(\"opacity\", 1.0);\n  };\n\n  /**\n   * hides: nothing\n   * (previous and next sections are histograms\n   *  so we don't have to hide much here)\n   * shows: histogram\n   */\n  showCough = () => {\n    // hide before\n    // this.g\n    //   .selectAll(\".hist\")\n    //   .transition()\n    //   .duration(600)\n    //   .attr(\"y\", this.height)\n    //   .attr(\"height\", 0)\n    //   .style(\"opacity\", 0);\n    this.hideAxis();\n    this.g.selectAll(\".hist\").transition().duration(300).style(\"opacity\", 0);\n  };\n\n  showNothing = () => {\n    this.hideAxis();\n  };\n\n  /**\n   * helper function\n   * @param axis - the axis to show\n   *  (xAxisHist or xAxisBar)\n   */\n  showAxis = (axis) => {\n    this.g\n      .select(\".x.axis\")\n      .call(axis)\n      .transition()\n      .duration(500)\n      .style(\"opacity\", 1);\n  };\n\n  /**\n   * helper function\n   * to hide the axis\n   */\n  hideAxis = () => {\n    this.g.select(\".x.axis\").transition().duration(500).style(\"opacity\", 0);\n  };\n\n  /**\n   * UPDATE FUNCTIONS\n   *\n   * These will be called within a section\n   * as the user scrolls through it.\n   *\n   * We use an immediate transition to\n   * update visual elements based on\n   * how far the user has scrolled\n   *\n   */\n\n  /**\n   * @param progress - 0.0 - 1.0 -\n   *  how far user has scrolled in section\n   */\n  updateCough = (progress) => {\n    // this.g\n    //   .selectAll(\".cough\")\n    //   .transition()\n    //   .duration(0)\n    //   .attr(\"opacity\", progress);\n    // this.g\n    //   .selectAll(\".hist\")\n    //   .transition(\"cough\")\n    //   .duration(0)\n    //   .style(\"fill\", (d) => {\n    //     return d.x0 >= 14 ? this.coughColorScale(progress) : \"#008080\";\n    //   });\n  };\n\n  //#endregion activate func\n\n  render() {\n    return (\n      <div className=\"container-fluid\" id=\"toilet\">\n        <div className=\"row d-flex align-items-start\" id=\"graphic\">\n          <div className=\"col\">\n            <div id=\"sections\">\n              <section className=\"step\">\n                <div className=\"title\">Issues With Tissues</div>\n                The COVID-19 pandemic has been associated with a worldwide\n                increase in toilet paper hoarding. Why do people hoard toilet\n                paper?\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">Invention</div>\n                The origins of Toilet Paper can be dated back to 14th Century\n                China, where it was used by the Emperor and his family.\n                <br />\n                <br />\n                In the 15th Century, paper became easier to produce, but the\n                19th Century is where it boomed thanks to mass production. A man\n                by the name of Joseph C. Gayetty created the first ever\n                commercial toilet paper - which were not in rolls, but arrived\n                as flat sheets sold in bulk Ever since the mass\n                commercialisation of toilet paper, new advances came into play\n                such as Walter Alcocks paper, which was perforated.\n                <br />\n                <br />\n                In other parts of the world, St. Andrew's Paper Mill in the UK\n                developed the first 2 ply toilet paper Toilet paper has been\n                developing ever since - until the 21st century, where finally\n                people it became a limited necessity due to hoarding across the\n                world.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">The Rank</div>\n                the US is taking a lead on toilet paper consumption with 91\n                rolls per capita.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">The World</div>\n                If each square is one roll of toilet paper, this is the top 10\n                country rank on toile paper consumption.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">The US VS The World</div>The proportion\n                between US and the rest of the top 10 countries\n              </section>\n\n              <section className=\"step\">\n                <div className=\"title\">Pre-COVID</div>\n                And here are all the fillers I used in those 30 minutes.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">Panic Mode</div>I hoped that all these\n                blunders were toward the beginning of my talk. And the data\n                suggests that fewer fillers are used as I get into it. Perhaps\n                the talk started out rough and improved as I found my groove.\n              </section>\n              {/* <section className=\"step\">\n                <div className=\"title\">How Much Toilet Paper Do You Need?</div>\n                Unfortunately, the trend does not continue. Midway into the talk\n                my Um's and Ah's spike. I continue to use them pretty\n                consistently throughout the rest of the talk.\n              </section> */}\n            </div>\n          </div>\n          <div\n            className=\"col d-flex align-items-center\"\n            style={{ marginTop: 150, marginLeft: 15, marginRight: 15 }}\n          >\n            <div id=\"vis\" style={{ height: window.innerHeight }}></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Introduction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.imagePath = \"image/activity.jpg\";\n  }\n\n  render() {\n    return (\n      <div\n        className=\"introduction container-fluid d-flex align-items-center\"\n        id=\"introduction\"\n        style={{\n          height: window.innerHeight,\n        }}\n      >\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <h1 className=\"text-left\" style={{ fontSize: \"4em\" }}>\n              Reflection\n            </h1>\n          </div>\n          <div className=\"col-6 text-justify\">\n            <p>\n              Coronaviruses are a large family of viruses that are known to\n              cause illness ranging from the common cold to more severe diseases\n              such as Middle East Respiratory Syndrome (MERS) and Severe Acute\n              Respiratory Syndrome (SARS). A novel coronavirus (COVID-19) was\n              identified in 2019 in Wuhan, China. This is a new coronavirus that\n              has not been previously identified in humans. This course provides\n              a general introduction to COVID-19 and emerging respiratory\n              viruses and is intended for public health professionals, incident\n              managers and personnel working for the United Nations,\n              international organizations and NGOs. As the official disease name\n              was established after material creation, any mention of nCoV\n              refers to COVID-19, the infectious disease caused by the most\n              recently discovered coronavirus.\n            </p>\n            <br />\n            <p>\n              Coronaviruses are a large family of viruses that are known to\n              cause illness ranging from the common cold to more severe diseases\n              such as Middle East Respiratory Syndrome (MERS) and Severe Acute\n              Respiratory Syndrome (SARS). A novel coronavirus (COVID-19) was\n              identified in 2019 in Wuhan, China. This is a new coronavirus that\n              has not been previously identified in humans. This course provides\n              a general introduction to COVID-19 and emerging respiratory\n              viruses and is intended for public health professionals, incident\n              managers and personnel working for the United Nations,\n              international organizations and NGOs. As the official disease name\n              was established after material creation, any mention of nCoV\n              refers to COVID-19, the infectious disease caused by the most\n              recently discovered coronavirus.\n            </p>\n            <br />\n            <p>\n              Coronaviruses are a large family of viruses that are known to\n              cause illness ranging from the common cold to more severe diseases\n              such as Middle East Respiratory Syndrome (MERS) and Severe Acute\n              Respiratory Syndrome (SARS). A novel coronavirus (COVID-19) was\n              identified in 2019 in Wuhan, China. This is a new coronavirus that\n              has not been previously identified in humans.\n            </p>\n          </div>\n          <div className=\"col-6\">\n            <img src={`${this.imagePath}`} style={{ width: \"100%\" }} />\n            <p className=\"text-right\" id=\"credit\">\n              photo credit @MUTI\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\nref: https://github.com/vlandham/scroll_demo\nhttps://vallandingham.me/think_you_can_scroll.html\nhttps://github.com/vlandham/scroll_demo/blob/gh-pages/post.md\nhttps://lancecourse.com/howto/the-science-of-creating-fixed-components-on-scroll-with-vanilla-javascript\n*/\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport * as d3Collection from \"d3-collection\";\nimport Scroller from \"../utils/Scroller\";\n\nexport default class ToiletPaper extends React.Component {\n  width = 600;\n  height = 600;\n  margin = { top: 20, left: 20, bottom: 20, right: 20 };\n  lastIndex = -1;\n  activeIndex = 0;\n\n  squareSize = 6;\n  squarePad = 2;\n  numPerRow = this.width / (this.squareSize + this.squarePad);\n\n  svg = null;\n  g = null;\n  colors = { 0: \"#84bc41\", 1: \"#fcf001\", 2: \"#75d1f3\" };\n\n  activateFunctions = [];\n  updateFunctions = [];\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount = () => {\n    d3.tsv(\"./data/words.tsv\").then((data) => {\n      this.init(data);\n    });\n  };\n\n  //#region initialization\n\n  /**\n   * called once data has been loaded.\n   * @param rawData - loaded tsv data\n   */\n  init = (rawData) => {\n    this.setupData(rawData);\n\n    this.setupVis(d3.select(\"#vis\"));\n    this.setupOthers();\n    this.setupBarChart();\n    this.setupHistogram();\n\n    this.setupScroller();\n    this.setupSections();\n  };\n\n  setupData = (rawData) => {\n    this.wordData = this.getWords(rawData);\n    this.fillerWords = this.getFillerWords(this.wordData);\n  };\n\n  /**\n   * @param selection - the current d3 selection(s) to draw the visualization in.\n   */\n\n  setupVis = (selection) => {\n    this.svg = selection.selectAll(\"svg\").data([this.wordData]); // [array] wraps array as an another array with just 1 item inside\n    var svgEntry = this.svg.enter().append(\"svg\");\n    this.svg = this.svg.merge(svgEntry);\n    this.svg.attr(\"width\", this.width + this.margin.left + this.margin.right);\n    this.svg.attr(\"height\", this.height + this.margin.top + this.margin.bottom);\n    this.svg.append(\"g\");\n    this.g = this.svg\n      .select(\"g\")\n      .attr(\"transform\", `translate(${this.margin.left},${this.margin.top})`);\n  };\n\n  setupOthers = () => {\n    //openVis title\n    this.g\n      .append(\"text\")\n      .attr(\"class\", \"title openvis-title\")\n      .attr(\"x\", this.width / 2)\n      .attr(\"y\", this.height / 3)\n      .text(\"2013\");\n    this.g\n      .append(\"text\")\n      .attr(\"class\", \"sub-title openvis-title\")\n      .attr(\"x\", this.width / 2)\n      .attr(\"y\", this.height / 3 + this.height / 5)\n      .text(\"OpenVis Conf\");\n    this.g.selectAll(\".openvis-title\").attr(\"opacity\", 0);\n\n    // count filler word count title\n    this.g\n      .append(\"text\")\n      .attr(\"class\", \"title count-title highlight\")\n      .attr(\"x\", this.width / 2)\n      .attr(\"y\", this.height / 3)\n      .text(\"180\");\n    this.g\n      .append(\"text\")\n      .attr(\"class\", \"sub-title count-title\")\n      .attr(\"x\", this.width / 2)\n      .attr(\"y\", this.height / 3 + this.height / 5)\n      .text(\"Filler Words\");\n    this.g.selectAll(\".count-title\").attr(\"opacity\", 0);\n\n    // square grid\n    let squares = this.g\n      .selectAll(\".square\")\n      .data(this.wordData, (d) => d.word);\n    const squaresE = squares.enter().append(\"rect\").classed(\"square\", true);\n    squares = squares\n      .merge(squaresE)\n      .attr(\"width\", this.squareSize)\n      .attr(\"height\", this.squareSize)\n      .attr(\"fill\", \"#d8d8d8\")\n      .classed(\"fill-square\", (d) => d.filler)\n      .attr(\"x\", (d) => d.x)\n      .attr(\"y\", (d) => d.y)\n      .attr(\"opacity\", 0);\n\n    // cough title\n    this.g\n      .append(\"text\")\n      .attr(\"class\", \"sub-title cough cough-title\")\n      .attr(\"x\", this.width / 2)\n      .attr(\"y\", 60)\n      .text(\"cough\")\n      .attr(\"opacity\", 0);\n    // arrowhead\n    this.svg\n      .append(\"defs\")\n      .append(\"marker\")\n      .attr(\"id\", \"arrowhead\")\n      .attr(\"refY\", 2)\n      .attr(\"markerWidth\", 6)\n      .attr(\"markerHeight\", 4)\n      .attr(\"orient\", \"auto\")\n      .append(\"path\")\n      .attr(\"d\", \"M 0,0 V 4 L6,2 Z\");\n    this.g\n      .append(\"path\")\n      .attr(\"class\", \"cough cough-arrow\")\n      .attr(\"marker-end\", \"url(#arrowhead)\")\n      .attr(\"d\", () => {\n        let line = \"M \" + (this.width / 2 - 10) + \" \" + 80;\n        line += \" l 0 \" + 230;\n        return line;\n      })\n      .attr(\"opacity\", 0);\n  };\n\n  setupBarChart = () => {\n    const fillerCounts = this.groupByWord(this.fillerWords);\n    const countMax = d3.max(fillerCounts, (d) => d.value);\n\n    this.xBarScale = d3\n      .scaleLinear()\n      .domain([0, countMax])\n      .range([0, this.width]);\n    this.yBarScale = d3\n      .scaleBand()\n      .paddingInner(0.08)\n      .domain([0, 1, 2])\n      .range([0, this.height - 50], 0.1, 0.1);\n    this.xAxisBar = d3.axisBottom().scale(this.xBarScale);\n\n    this.g\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + this.height + \")\")\n      .call(this.xAxisBar);\n    this.g.select(\".x.axis\").style(\"opacity\", 0);\n\n    let bars = this.g.selectAll(\".bar\").data(fillerCounts);\n    const barsE = bars.enter().append(\"rect\").attr(\"class\", \"bar\");\n    bars = bars\n      .merge(barsE)\n      .attr(\"x\", 0)\n      .attr(\"y\", (d, i) => this.yBarScale(i))\n      .attr(\"fill\", (d, i) => this.colors[i])\n      .attr(\"width\", 0)\n      .attr(\"height\", this.yBarScale.bandwidth());\n    const barText = this.g\n      .selectAll(\".bar-text\")\n      .data(fillerCounts)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"bar-text\")\n      .text((d) => `${d.key}…`)\n      .attr(\"x\", 0)\n      .attr(\"dx\", 15)\n      .attr(\"y\", (d, i) => this.yBarScale(i))\n      .attr(\"dy\", this.yBarScale.bandwidth() / 1.2)\n      .style(\"font-size\", \"110px\")\n      .attr(\"fill\", \"white\")\n      .attr(\"opacity\", 0);\n  };\n\n  setupHistogram = () => {\n    this.xHistScale = d3\n      .scaleLinear()\n      .domain([0, 30])\n      .range([0, this.width - 20]);\n\n    const histData = this.getHistogram(this.fillerWords);\n\n    this.xAxisHist = d3\n      .axisBottom()\n      .scale(this.xHistScale)\n      .tickFormat((d) => `${d} min`);\n    this.coughColorScale = d3\n      .scaleLinear()\n      .domain([0, 1.0])\n      .range([\"#75d1f3\", \"#75d1f3\"]);\n\n    const histMax = d3.max(histData, (d) => d.length);\n    this.yHistScale = d3\n      .scaleLinear()\n      .domain([0, histMax])\n      .range([this.height, 0]);\n\n    let hist = this.g.selectAll(\".hist\").data(histData);\n    const histE = hist.enter().append(\"rect\").attr(\"class\", \"hist\");\n    hist = hist\n      .merge(histE)\n      .attr(\"x\", (d) => this.xHistScale(d.x0))\n      .attr(\"y\", this.height)\n      .attr(\"height\", 0)\n      .attr(\n        \"width\",\n        this.xHistScale(histData[0].x1) - this.xHistScale(histData[0].x0) - 1\n      )\n      .attr(\"fill\", this.colors[0])\n      .attr(\"opacity\", 0);\n  };\n\n  setupScroller = () => {\n    // setup onScroll event\n    const scroller = new Scroller(d3.selectAll(\".step\"), d3.select(\"#graphic\"));\n\n    scroller.on(\"active\", (curIndex) => {\n      d3.selectAll(\".step\").style(\"opacity\", (d, i) =>\n        i === curIndex ? 1 : 0.1\n      );\n\n      this.activate(curIndex);\n    });\n\n    scroller.on(\"progress\", (curIndex, progress) => {\n      this.update(curIndex, progress);\n    });\n\n    // setup start and end stick trigger\n    this.vis = document.querySelector(\"#vis\");\n    this.measure = document.querySelector(\"#graphic > .col\");\n    this.flexContainer = document.querySelector(\"#graphic\");\n\n    this.start = this.measure.offsetTop;\n    this.end = this.start + this.measure.offsetHeight;\n    this.rect = this.vis.getBoundingClientRect();\n\n    this.virtualElement = document.createElement(\"div\");\n    this.virtualElement.style.height = `${parseInt(this.rect.height)}px`;\n\n    window.addEventListener(\"scroll\", this.makeStick);\n  };\n\n  makeStick = () => {\n    const curTop = window.scrollY;\n    const curBot = window.innerHeight + curTop;\n    const hasStick = this.vis.classList.contains(\"stick\");\n\n    if (curTop >= this.start && curBot <= this.end && !hasStick) {\n      this.vis.classList.add(\"stick\");\n      this.vis.style.width = `${parseInt(this.rect.width)}px`;\n      this.vis.parentNode.insertBefore(this.virtualElement, this.vis);\n\n      this.flexContainer.classList.remove(\"align-items-end\");\n      this.flexContainer.classList.add(\"align-items-start\");\n    } else if (curTop <= this.start && hasStick) {\n      this.vis.classList.remove(\"stick\");\n      this.vis.style.width = \"auto\";\n      this.vis.parentNode.removeChild(this.virtualElement);\n    } else if (curTop >= 4000 && hasStick) {\n      this.vis.classList.remove(\"stick\");\n      this.vis.style.width = \"auto\";\n      this.vis.parentNode.removeChild(this.virtualElement);\n\n      this.flexContainer.classList.add(\"align-items-end\");\n      this.flexContainer.classList.remove(\"align-items-start\");\n    }\n  };\n\n  setupSections = () => {\n    this.activateFunctions[0] = this.showTitle;\n    this.activateFunctions[1] = this.showFillerTitle;\n    this.activateFunctions[2] = this.showGrid;\n    this.activateFunctions[3] = this.highlightGrid;\n    this.activateFunctions[4] = this.showBar;\n    this.activateFunctions[5] = this.showHistPart;\n    this.activateFunctions[6] = this.showHistAll;\n    this.activateFunctions[7] = this.showCough;\n    this.activateFunctions[8] = this.showHistAll;\n\n    for (let i = 0; i < 9; i++) {\n      this.updateFunctions[i] = function () {};\n    }\n    this.updateFunctions[7] = this.updateCough;\n  };\n\n  /**\n   * activate current section's visualization\n   * @param curIndex - index of the activated section\n   */\n  activate = (curIndex) => {\n    this.activeIndex = curIndex;\n    const dir = this.activeIndex > this.lastIndex ? 1 : -1;\n    const scrolledSections = d3.range(\n      this.lastIndex + dir,\n      this.activeIndex + dir,\n      dir\n    );\n    scrolledSections.forEach((i) => {\n      this.activateFunctions[i]();\n    });\n    this.lastIndex = this.activeIndex;\n  };\n\n  /**\n   * update current section's visualization based on progress\n   * @param curIndex - index of the activated section\n   * @param progress - progress of the activated section\n   */\n  update = (curIndex, progress) => {\n    this.updateFunctions[curIndex](progress);\n  };\n\n  //#endregion initialization\n\n  //#region data func\n\n  /**\n   * maps raw data to array of data objects.\n   * @param rawData - data read in from file\n   */\n  getWords = (rawData) => {\n    return rawData.map((d, i) => {\n      // post-process each data\n      d.filler = d.filler === \"1\" ? true : false;\n      d.time = +d.time;\n      d.min = Math.floor(d.time / 60);\n\n      // position for each square\n      d.col = i % this.numPerRow;\n      d.row = Math.floor(i / this.numPerRow);\n      d.x = d.col * (this.squareSize + this.squarePad);\n      d.y = d.row * (this.squareSize + this.squarePad);\n      return d;\n    });\n  };\n\n  /**\n   * returns array of only filler words\n   * @param data - post-processed data from getWords()\n   */\n  getFillerWords = (data) => {\n    return data.filter((d) => d.filler);\n  };\n\n  /**\n   * use d3's histogram layout to generate histogram bins for our word data\n   * @param data - post-processed data from getFillerWords()\n   */\n  getHistogram = (data) => {\n    const thirtyMins = data.filter((d) => d.min < 30);\n    return d3\n      .bin()\n      .thresholds(this.xHistScale.ticks(10))\n      .value((d) => d.min)(thirtyMins);\n  };\n\n  /**\n   * groupByWord - group words together using nest Used to get counts for bar charts.\n   * @param words\n   */\n  groupByWord = (words) => {\n    return d3Collection\n      .nest()\n      .key((d) => d.word)\n      .rollup((v) => v.length)\n      .entries(words)\n      .sort((a, b) => b.value - a.value);\n  };\n\n  //#endregion data func\n\n  //#region activate func\n\n  /**\n   * hides: count title\n   * (no previous step to hide)\n   * shows: intro title\n   */\n  showTitle = () => {\n    this.g\n      .selectAll(\".count-title\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".openvis-title\")\n      .transition()\n      .duration(600)\n      .attr(\"opacity\", 1.0);\n  };\n\n  /**\n   * hides: intro title\n   * hides: square grid\n   * shows: filler count title\n   */\n  showFillerTitle = () => {\n    this.g\n      .selectAll(\".openvis-title\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    this.g.selectAll(\".square\").transition().duration(0).attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".count-title\")\n      .transition()\n      .duration(600)\n      .attr(\"opacity\", 1.0);\n  };\n\n  /**\n   * hides: filler count title\n   * hides: filler highlight in grid\n   * shows: square grid\n   */\n  showGrid = () => {\n    this.g\n      .selectAll(\".count-title\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".square\")\n      .transition()\n      .duration(600)\n      .delay((d) => 5 * d.row)\n      .attr(\"opacity\", 1.0)\n      .attr(\"fill\", \"#ddd\");\n  };\n\n  /**\n   * hides: barchart, text and axis\n   * shows: square grid and highlighted\n   *  filler words. also ensures squares\n   *  are moved back to their place in the grid\n   */\n  highlightGrid = () => {\n    this.hideAxis();\n\n    this.g.selectAll(\".bar\").transition().duration(600).attr(\"width\", 0);\n    this.g.selectAll(\".bar-text\").transition().duration(0).attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".square\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 1.0)\n      .attr(\"fill\", \"#ddd\");\n\n    // use named transition to ensure move happens even if other transitions are interrupted.\n    this.g\n      .selectAll(\".fill-square\")\n      .transition(\"move-fills\")\n      .duration(800)\n      .attr(\"x\", (d) => d.x)\n      .attr(\"y\", (d) => d.y);\n\n    this.g\n      .selectAll(\".fill-square\")\n      .transition()\n      .duration(800)\n      .attr(\"opacity\", 1.0)\n      .attr(\"fill\", (d) => (d.filler ? \"orange\" : \"black\"));\n  };\n\n  /**\n   * hides: square grid\n   * hides: histogram\n   * shows: barchart\n   */\n  showBar = () => {\n    // ensure bar axis is set\n    this.showAxis(this.xAxisBar);\n\n    this.g.selectAll(\".square\").transition().duration(800).attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".fill-square\")\n      .transition()\n      .duration(800)\n      .attr(\"x\", 0)\n      .attr(\n        \"y\",\n        (d, i) => this.yBarScale(i % 3) + this.yBarScale.bandwidth() / 2\n      )\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(600)\n      .attr(\"height\", () => 0)\n      .attr(\"y\", () => this.height)\n      .style(\"opacity\", 0);\n\n    this.g\n      .selectAll(\".bar\")\n      .transition()\n      .delay((d, i) => 300 * (i + 1))\n      .duration(600)\n      .attr(\"width\", (d) => this.xBarScale(d.value));\n\n    this.g\n      .selectAll(\".bar-text\")\n      .transition()\n      .duration(600)\n      .delay(1200)\n      .attr(\"opacity\", 1);\n  };\n\n  /**\n   * hides: barchart\n   * hides: last half of histogram\n   * shows: first half of histogram\n   */\n  showHistPart = () => {\n    // switch the axis to histogram one\n    this.showAxis(this.xAxisHist);\n\n    this.g.selectAll(\".bar-text\").transition().duration(0).attr(\"opacity\", 0);\n\n    this.g.selectAll(\".bar\").transition().duration(600).attr(\"width\", 0);\n\n    // here we only show a bar if it is before the 15 minute mark\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(600)\n      .attr(\"y\", (d) => (d.x0 < 15 ? this.yHistScale(d.length) : this.height))\n      .attr(\"height\", (d) =>\n        d.x0 < 15 ? this.height - this.yHistScale(d.length) : 0\n      )\n      .style(\"opacity\", (d) => (d.x0 < 15 ? 1.0 : 1e-6));\n  };\n\n  /**\n   * hides: cough title and color\n   * (previous step is also part of the\n   *  histogram, so we don't have to hide\n   *  that)\n   * shows: all histogram bars\n   */\n  showHistAll = () => {\n    // ensure the axis to histogram one\n    this.showAxis(this.xAxisHist);\n\n    this.g.selectAll(\".cough\").transition().duration(0).attr(\"opacity\", 0);\n\n    // named transition to ensure color change is not clobbered\n    this.g\n      .selectAll(\".hist\")\n      .transition(\"color\")\n      .duration(500)\n      .style(\"fill\", \"#008080\");\n\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(1200)\n      .attr(\"y\", (d) => this.yHistScale(d.length))\n      .attr(\"height\", (d) => this.height - this.yHistScale(d.length))\n      .style(\"opacity\", 1.0);\n  };\n\n  /**\n   * hides: nothing\n   * (previous and next sections are histograms\n   *  so we don't have to hide much here)\n   * shows: histogram\n   */\n  showCough = () => {\n    // ensure the axis to histogram one\n    this.showAxis(this.xAxisHist);\n\n    this.g\n      .selectAll(\".hist\")\n      .transition()\n      .duration(600)\n      .attr(\"y\", (d) => this.yHistScale(d.length))\n      .attr(\"height\", (d) => this.height - this.yHistScale(d.length))\n      .style(\"opacity\", 1.0);\n  };\n\n  /**\n   * helper function\n   * @param axis - the axis to show\n   *  (xAxisHist or xAxisBar)\n   */\n  showAxis = (axis) => {\n    this.g\n      .select(\".x.axis\")\n      .call(axis)\n      .transition()\n      .duration(500)\n      .style(\"opacity\", 1);\n  };\n\n  /**\n   * helper function\n   * to hide the axis\n   */\n  hideAxis = () => {\n    this.g.select(\".x.axis\").transition().duration(500).style(\"opacity\", 0);\n  };\n\n  /**\n   * UPDATE FUNCTIONS\n   *\n   * These will be called within a section\n   * as the user scrolls through it.\n   *\n   * We use an immediate transition to\n   * update visual elements based on\n   * how far the user has scrolled\n   *\n   */\n\n  /**\n   * @param progress - 0.0 - 1.0 -\n   *  how far user has scrolled in section\n   */\n  updateCough = (progress) => {\n    this.g\n      .selectAll(\".cough\")\n      .transition()\n      .duration(0)\n      .attr(\"opacity\", progress);\n\n    this.g\n      .selectAll(\".hist\")\n      .transition(\"cough\")\n      .duration(0)\n      .style(\"fill\", (d) => {\n        console.log(d.x0);\n        return d.x0 >= 14 ? this.coughColorScale(progress) : \"#008080\";\n      });\n  };\n\n  //#endregion activate func\n\n  render() {\n    return (\n      <div className=\"container-fluid\" id=\"toilet\">\n        <div className=\"row d-flex align-items-start\" id=\"graphic\">\n          <div className=\"col\">\n            <div id=\"sections\">\n              <section className=\"step\">\n                <div className=\"title\">OpenVis Conf 2013</div>\n                I did what no presenter should ever do: I watched my own talk.\n                <br />\n                <br />\n                My first visit to OpenVis Conf in 2013.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">Filler Words</div>\n                As expected, I could only focus on the flaws: the rushed speech,\n                the odd phrases, and, most especially, all the filler words. In\n                fact, I found 180 filler words in my 30 minute talk.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">My Talk</div>\n                Here are all 5,040 words of my talk.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">My Stumbles</div>\n                And here are all the fillers I used in those 30 minutes.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">Um's, Ah's &amp; Uh's</div>I almost\n                exclusively used these three fillers. Um's and Ah's made up over\n                80%, with Uh's trailing behind.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">Fillers Over Time</div>I hoped that all\n                these blunders were toward the beginning of my talk. And the\n                data suggests that fewer fillers are used as I get into it.\n                Perhaps the talk started out rough and improved as I found my\n                groove.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">Ramping Back Up</div>\n                Unfortunately, the trend does not continue. Midway into the talk\n                my Um's and Ah's spike. I continue to use them pretty\n                consistently throughout the rest of the talk.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">The Cough Effect</div>\n                My theory is that at this critical halfway point in my talk, I\n                heard a dry cough indicative of the audience's waning interest.\n                This caused self-confidence to collapse and forced me out of my\n                groove.\n                <br />\n                <br />A competing theory is that I just hadn't practiced the\n                last half of my speech as much.\n              </section>\n              <section className=\"step\">\n                <div className=\"title\">Best of Luck to Me in 2015</div>\n                The world may never know, or care, but hopefully these insights\n                improve my speaking in 2015. Though preliminary results aren't\n                looking so good.\n              </section>\n            </div>\n          </div>\n          <div className=\"col d-flex align-items-center\">\n            <div id=\"vis\" style={{ height: window.innerHeight }}></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import \"./App.css\";\nimport VerticalNav from \"./components/VerticalNav\";\nimport Home from \"./components/Home\";\nimport Animal from \"./components/Animal\";\nimport CO2 from \"./components/CO2\";\nimport Introduction from \"./components/Introduction\";\nimport Stock from \"./components/Stock\";\nimport ToiletPaper from \"./components/ToiletPaper\";\nimport Traffic from \"./components/Traffic\";\nimport Reflection from \"./components/Reflection\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <VerticalNav />\n      <Home />\n      <Introduction />\n      <ToiletPaper />\n      <Stock />\n      <Animal />\n      <CO2 />\n      <Reflection />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}